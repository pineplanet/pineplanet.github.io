---
title: TIL 2021-10-15 RDBMS 오라클 두 번째 학습!
tags: [TIL, Oracle]
categories: TIL
---

# 👀 오늘 배운 것 

## 관계형 DB의 구조

- DBMS -> DB -> table -> column


- 데이터 모델링 후 나온 객체를 DB에서는 entity 라고 합니다.
- entity를 기초해서 table 정의서를 도출 합니다. 
- table 간의 관계를 이어줄 수도 있습니다. 각 table은 PK를 가지고 있으므로 하나의 table의 PK를 다른 table의 FK로 삼으면 연결할 수 있습니다. 
- table의 row는 실제 데이터로서 객체 하나 하나 를 말합니다. 
- column은 table에 저장되는 객체의 특성 하나 하나를 말합니다. 

## where
- 사용법 
    * select *  -> 모두 선택 // 소환할 column 지정가능 
    * from table -> 소환할 테이블
    * where column + 조건식 
- 조건식 들 
    - = 과 like: 같은 것을 뽑아내기 위한 조건식 이지만 약간 다릅니다.
        - like 는 **whildcard** 를 사용해서 부분적으로 동일한 값을 가지는 record를 추출 할 수 있습니다.
            - _는 글자 1개를 뜻합니다. 
            - % 뒤의 글자 수는 상관없습니다. 
    - IS NULL 과 IS NOT NULL 
        - 해당 컬럼의 값이 null 이거나 null이 아닌 record만 추출 합니다.
    - **조건식 여러개 함께 쓰기**
        - AND 와 OR 로 여러개의 조건을 묶을 수 있습니다.
        - ANY/ALL : 산술 연산자 와 함께 씁니다. ANY()는 ()의 값 중 하나라도 만족 하면 true 가 되는 것 이고, ALL은 모두 만족해야 true가 되는 것 입니다.

## Order by
* Order by : 정렬 하기 
    - 레코드의 출력은 순서가 정해져있지 않습니다. 순서를 정렬 하고 싶다면 Order by를 사용하면 됩니다. 
        - `ASC` : 오름차순 (default)
        - `DESC` : 내림차순 
    - 2차 정렬 하기 
        - " , "를 사용합니다.



## 함수를 써보자! 
*  범위
    - Single Row Function : 하나의 record에 적용되는 함수 
    - Aggregation Function : 여러 record에 적용되는 함수 (최대값, 최소값 구하기 등)

-  종류
    - 문자열 함수
    - 숫자열 함수 
    - 날짜 
        - 숫자 처럼 처리 가능합니다. 
        - 문자열로 변환 하면 like를 사용할 수도 있습니다. 

-  변환 
    - 날짜를 숫자 또는 문자로 변환 하거나
    - 숫자 또는 문자를 날짜로 변환 할 수 있습니다. 
        - TO_NUMBER
        - TO_CHAR
        - TO_DATE
-  Aggregate Function
    - 여러 행을 소환해서 **하나의 값**을 리턴하는 함수 

## group by 
- 한 테이블에서 어떤 column을 기준으로 묶을 수 있는 레코드들을 그룹으로 묶어서 리턴 합니다. 
- 이 때 주의 해야할 것은 select 로 리턴할 컬럼의 값은 각 그룹을 묶어서 계산된 `하나의 값`(대표하는 값?)이어야 한다는 것입니다. 
- Aggregate Function으로 리턴된 하나의 값 또는 group으로 묶은 컬럼 이어야 한다는 것 입니다. 

- Having 
    - group by와 세트로 사용되는 구문 입니다. 그룹 별로 도출한 특정한 값(Aggregate Function으로 리턴 되거나, group으로 묶게된 기준 값)을 다시 한번 거르고 싶을 때 사용합니다. 
    - group by (column) `having`(조건식)의 형태로 사용합니다. 
    


## Join
- 여러 테이블을 소환 하기 : 
    - from 뒤에 원하는 테이블들을 적습니다.
        - 테이블 이름 `별칭` 짓기
            - 테이블 명을 적을 때 한칸 띄어쓰기 한 후 원하는 별칭을 쓰면, 그 쿼리 내에서는 별칭으로 사용할 수 있습니다. 

    - ","를 이용하여 테이블을 구분합니다.
- JOIN : 테이블 연결하기 
    - 다른 table의 PK를 FK로 저장하고 있는 테이블을 먼저 소환해서 
    - 이 테이블의 레코드에서 FK 를 이용해서 다른 테이블의 정보를 붙입니다. 
- JOIN 방법
    - Where (JOIN 조건문,`table.FKcolumn` = `table2.PKcolumn` )으로 테이블을 붙여 줄 수 있습니다. 
    - 리턴되는 테이블은 PK,FK 컬럼을 중복해서 가지고 있으므로 처리 해야합니다. 
        - select에 리턴할 column들을 지정해줍시다. 
        - 이름이 중복 되는 column은"table."으로 구분합니다. 
        
- OUTER JOIN :
    - table 과 다른 table을 결합 해서 처리하기 위해서 join 조건을 주고 결합 하는데요. 조건에 포함되지 않은 레코드가 있을 수도 있습니다. 예를 들어 A Table(회사의 **연봉 5000만원 이상 받는** 직원 정보)과 B Table(회사의 **모든 부서** 정보)를 결합한다고 할 때, 어떤 부서는 5000만원 이상 받는 직원이 하나도 없을수도 있습니다. 이런 경우 기본적인 join은 한쪽에 포함되지 않는 데이터(join 조건에 부합하지 않는 행)은 소환하지 않습니다. 

    - 위와 같은 경우 join 조건에 부합하지 않는 행까지 포함 시켜 결합 하도록 하는 것을 OUTER JOIN 이라고 합니다. 
    - 사용법 : where (JOIN 조건문)뒤에 (+)를 붙여 줍니다. 

- Self join : 같은 테이블에 있는 다른 레코드 가져오기
    - from 에서 같은 테이블을 2번 소환 합니다. 별칭으로 테이블을 구분해줍니다. 
    - join 되는 테이블이 같은 테이블이므로 모든 컬럼의 이름이 같습니다. select로 특정한 컬럼만 선택해서 출력하려면 아까 정한 "별칭.column"으로 구분해서 출력해야합니다.


# ✍️ 이번 주말에 해야할 일 

- ~~datagrip에 오라클 클라우드 연결하기~~(완료)
- java 문법(연산자,조건문,반복문 등) 복습
- java 객체 지향 1 개념 복습 
- ~~programmers 알고리즘 문제 풀이~~(완료)
    - ~~[소수찾기](https://programmers.co.kr/learn/courses/30/lessons/42839)~~
    - ~~[숫자카드2](https://www.acmicpc.net/problem/10816)~~


# 🥳오늘 느낀 것  
- java, sql, python을 더듬거리거나 막히지 않고 ~~구글링하지 않고~~ 능수능란하게 쓰고 싶습니다. 처음 배우는 것들이라 익히는데 시간이 걸리는건 아는데도 괜히 쭈구리가 됩니다. 구글에 검색해서 친절하게 설명해놓은 블로그들을 보면 왠지 높이 우러러보게 됩니다. 저도 열심히 해서 저렇게 설명할 수 있게 되야겠습니다. 
