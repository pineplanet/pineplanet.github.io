---
title: TIL 2021-10-22 JDBC 전체 복습  
tags: [TIL, Oracle]
categories: TIL
---

# 오늘 배운 것 

## 전체 다시 만들어보기 
- 책 관리 프로그램 만들기 

- 연락처 프로그램 만들기
    처음 부터 끝까지 혼자 해보았습니다(그저 뿌듯).

    - 프로그램에서 구현할 내용
        - 새로운 연락처 등록하기 
            - 새로운 데이터를 입력 받아서 VO에 저장한 후, 테이블에 입력 받기 전에 현재 테이블에 존재 하는지 부터 검색하고, 이름과 전화번호 데이터가 없을 경우에만 테이블에 입력하도록 하였습니다. 만약 데이터가 이미 존재한다면 종료 하고 이미 데이터가 존재한다는 문구만 내보내도록 하였습니다. 

        - 전체 정보 보기
            - 현재 테이블의 모든 레코드들을 소환해서 vo에 담고, 이것을 보여주도록 하였습니다. 
        - 검색하기 
            - 핸드폰 연락처의 기능을 최선을 다해서 따라하고 싶었어요. 그래서 검색 기능을 두 개로 하였습니다.
            - 이름의 전부 또는 일부분으로 검색하기
                - 초성으로 검색할 수 있도록 하고 싶었는데, sql 문이 너무 길어져서 추가하지 못했습니다ㅠㅠ.. sql 함수를 database 안에 저장해서 불러오기 하거나, dao에서도 뭔가 깔끔하게 할 수 있을 것 같은데 한번 공부를 해봐야겠습니다([참고한 문헌](https://aljjabaegi.tistory.com/219)).
            - 번호로 검색하기 
                - 혹시 번호도 중복해서 저장되는 경우도 있지 않을까해서(은근 모르고 그렇게 저장되는 경우도 있더라고요.저같은경우엔..)동일한 전화번호를 가지는 모든 레코드들을 소환해오도록 하였습니다. 
        - 삭제 
            - 이름으로 삭제 하기 
                - 보통 번호를 기억하고 있지 않으니, 이름으로 데이터를 선택해서 삭제 하지요. 그런데 동명이인의 경우도 있어요. 그래서 삭제할 이름을 입력 받은 후 테이블에서 해당 이름의 데이터를 소환해 온 후, 다시 뿌려주고 아이디를 선택해서 삭제 하도록 했습니다. 
                만약 입력한 이름의 데이터가 테이블에 존재 하지않는 경우에는 데이터가 없다는 문구를 출력 하고 종료 됩니다. 

            - 번호로 삭제하기 
                - 번호가 중복된 경우라도 번호를 삭제하기로 마음 먹었다면 모든 레코드를 삭제하려는 것 이라고 보고 위와 같이 목록을 보여주지 않고 바로 삭제 하도록 했습니다. 
                다만 이 경우에도 테이블에 해당 데이터가 있는지 먼저 확인 한 후 삭제 하도록 하였습니다. 

        - 수정 
            - 수정하고 싶은 데이터의 이름을 입력 받았습니다. 동명이인이 있을 수 있으니 테이블에서 동일 이름의 데이터를 모두 소환하도록 해서 수정하고 싶은 데이터의 id를 선택하도록 했습니다. 
            - 그리고 이름을 바꾸지 않고 번호만 바꾸고 싶은 경우도 분명히 있으니, 이름을 입력받지 않고 번호만 수정하도록 하였습니다. 
            - 이름을 바꾸고 싶은 경우에는 이름을 입력 하고 수정할 번호를 입력 받도록 하였습니다. 
    - 작업: 
        - DB table 만들기
            - 테이블을 작성 한 후,
            - primary key 가 될 숫자를 자동으로 계속 입력 받기 위해 sql sequence를 만들어두었습니다. 
        - DAO
            - 위에서 설정한 기능들이 구현되도록 하였습니다. 
        - VO
            - DB column에 맞는 변수 만들기 private을 사용해서 데이터의 예기치못한 손상을 막았습니다.
                - id: 테이블의 primary key입니다. 데이터를 입력할 때는 필요 없지만(sequence를 사용하니까), 목록에서 데이터를 선택하게 하기 위해 필요 합니다. 
                - name 
                    - 프로그램을 만들면서 조금 당황했던게, Datagrip에서 직접 넣은 데이터는 intellij에서 바로 검색이 안되고, intellij에서 생성한 데이터만 검색됬었습니다(한글 인코딩이 맞지 않아서 문제인건가?)
                - tel 
                    - 전화번호인데 타입을 문자열로 했습니다. 
            - 생성자 만들기
                - 아무것도 없는 생성자와 
                - 모든 변수를 받는 생성자 두개를 만들었습니다. 
                
            - getter, setter 
            - toString 오버라이딩 
                - 필요할 일이 있을까 하고 일단 만들긴 했는데 프로그램에서 사용하진 않았습니다. 
                (왜그랬을까요...)
        - Service 
            - Dao로 vo 객체를 넘겨 주거나, vo를 넘겨 받습니다. 
            - 또한 현재 테이블에 데이터가 존재하는지 여부를 알아야하는 기능들은 boolean type으로 리턴하게 하여서 view(test)에서 처리할 수 있게 하였습니다. 


- 소감: 처음에 배울 때는 여러파일들을 넘나들며 코드를 작성하고 이어붙이는 것이 조금 어려웠는데, 반복해서 연습해보니까 코드들의 구성이 대부분 비슷했습니다. 아직 배우지 않아서 눈에 보이는 것보다 보지 못한 것이 훨씬 더 많지만, 자신감을 조금 얻을 수 있었고, 하나 하나 뭔가를 완성해가는 것이 재밌었습니다. 

