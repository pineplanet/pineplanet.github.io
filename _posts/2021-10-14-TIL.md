---
title: TIL 2021-10-13 DB 학습 시작!
tags: [TIL, JAVA]
categories: TIL
---
- Oracle 설치, SQL Developer 설치 :  저는 M1 맥북을 사용하기 때문에, 직접 orcle을 설치 하지는 못했고, oracle cloud를 사용하기로 했습니다. cloud 설정을 한 후, SQL Developer에 연결 하였습니다. 

- Database(Db)란 : 하나의 정보 시스템에서 저장, 사용되는 정보 묶음 입니다.

- DBMS : DB관리를 편하게 하기 위해 사용하는 프로그램 (ex 오라클 RDBMS)입니다. DB를 생성, 수정, 검색, 삭제 할 수 있습니다. 
    - sql 언어를 사용합니다. 어떤 프로그램이든 동일합니다.
    
- 용어 : 
    - 서버 : 어떤 서비스를 제공하는 프로그램 ( == 엔진, 컨테이너)
    - table : DB 안에서도 데이터를 분류 할 수 있는데 Table 을 구분 단위로 합니다. 보통 객체 하나 하나가 table이 된다고 합니다. 
    - 문법에서 "[]"는 생략 할 수 있음을 뜻합니다. 
    
- 관계형 데이터 베이스 
    - 객체의 속성이 맵핑되어있는 테이블에 객체를 저장하는 논리 구조 입니다. 엑셀의 표에 데이터를 저장하는 것과 유사해보입니다. 저장할 객체의 속성 부분을 정의 하는 컬럼과 실제 저장되는 record로 구성됩니다. 

    -  객체의 데이터를 저장하기 전에 객체의 전체 특성 각각을 저장할 테이블을 먼저 만듭니다. 그리고 테이블의 각 행에 데이터를 삽입하여 저장합니다.
    - Schema : 테이블의 구조를 말합니다. 테이블의 컬럼과 각 컬럼에 저장할 수 있는 데이터 타입, 제한되는 조건 등 속성을 정의 해놓은 것 입니다. 
        

    - Primary Key (PK)
    
        :다른 레코드와 절대 중복되지 않을 레코드 값(예: 학번) 으로 데이터를 구분하기 위한 컬럼 입니다. 많은 레코드 중에 원하는 레코드를 골라내기 위해 사용합니다. 


    - Foreign Key: 
        
        : 서로 관심이 다른 데이터들을 분리 해서 객체 지향적인 데이터베이스를 구성하기 위해서 사용합니다. 하나의 테이블과 분리 시켜야 하지만, 관련이 있어서 연결할 필요가 있을 때 다른 테이블의 데이터를 가지고 올 수 있도록 지정된 컬럼입니다. 보통 연동 시킬 테이블의 Primary Key가 저장됩니다. 

    - 무결성 제약: PK키는 Null값이 허용되지 않습니다. FK는 NUll 값이 들어올 수 있습니다. 

    - 직접 써보자 
        - 검색
        - SELECT[ALL | DISTINCT] 열 리스트 +  FROM 테이블 리스트 
            - 데이터 전체를 가져 올 수 도 있고, 일부 컬럼 정보만 가져올 수도 있고, 연결된 다른 테이블의 정보도 함께 가져올 수 있습니다. 
            - select ENAME, JOB from emp;
                - 1. emp 테이블에 접근 해서, 
                - 2. 첫 번째 레코드에서 ENAME과 JOB 만 선택 해서 리턴 합니다.
                - 3. 마지막 레코드까지 반복해서 선택, 리턴 합니다. 
                - 리턴하는 테이블의 컬럼 이름을 변경할 수 도 있습니다. 
                    - 아래 예시 와 같이 컬럼 명 뒤에 공백을 두고 변경할 이름을 쓰면 됩니다. 
                    - select ename 이름 from emp;
                        - == select ename as 이름 from emp;
                        - select ename "이 름" from emp; : 변경할 이름 사이에 공백이 있을 경우 " 로 처리 합니다. 


            - 산술 연산도 할 수 있습니다. 
                - SELECT ename, (sal+comm)* 12 from emp;
                - 모든 레코드에 동일하게 적용되니까, 레코드(객체)의 특성이 통일 되어있어야겠네요(?).
                - Null을 허용하는 컬럼의 경우에는 다른 컬럼과 연산하게 했을 때 Null값이 나올 수 있어요. 
                    - 해결 방법 : DBMS에서 제공하는 함수를 써봅시다. 
                        - NVL (expr1, expr2) : expr1이 null 이면 expr2를 출력합니다. 
                        - SELECT ename, (sal+NVL(comm,0))* 12 from emp;
            - 새로운 데이터 Literal 추가 해서 리턴하기 
                - 컬럼이 아닌 Literal을 넣어서 리턴할 수 있습니다. 
            - WHERE : 모든 레코드가 아닌 원하는 레코드만 선택 해서 원하는 컬럼의 데이터들을 리턴합니다. 
                - 연산자를 사용합니다. (WHERE 조건식 )
                - AND, OR  : 조건식 여러개를 함께 묶을 수도 있습니다. 



